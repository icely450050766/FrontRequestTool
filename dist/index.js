!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=17)}([function(e,t,n){(function(t){const o=n(5),r=t.Bmob||{};r.utils=o,r._config=o.getConfig(),r.initialize=((e,t,n)=>{r._config.applicationId=e,r._config.applicationKey=t,r._config.applicationMasterKey=n}),e.exports=r}).call(this,n(6))},function(e,t,n){"use strict";var o=n(11),r=n(31),s=Object.prototype.toString;function i(e){return"[object Array]"===s.call(e)}function a(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===s.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:r,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,o){"object"==typeof t[o]&&"object"==typeof n?t[o]=e(t[o],n):t[o]=n}for(var o=0,r=arguments.length;o<r;o++)u(arguments[o],n);return t},extend:function(e,t,n){return u(t,function(t,r){e[r]=n&&"function"==typeof t?o(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports={isObject:e=>"[object Object]"===Object.prototype.toString.call(e),isNumber:e=>"[object Number]"===Object.prototype.toString.call(e),isString:e=>"[object String]"===Object.prototype.toString.call(e),isUndefined:e=>"[object Undefined]"===Object.prototype.toString.call(e),isBoolean:e=>"[object Boolean]"===Object.prototype.toString.call(e),isArray:e=>"[object Array]"===Object.prototype.toString.call(e),isFunction:e=>"[object Function]"===Object.prototype.toString.call(e)}},function(e,t){e.exports=class{constructor(e,t){let n=new Error;return n.code=e,n.message=t?`Bmob.Error:{code:${e}, message:${t}}`:`Bmob.Error:{code:${e}, message:${this.errorMsg(e)}}`,n}errorMsg(e){switch(e){case 415:return"incorrect parameter type.";case 416:return"Parameter is null.";case 417:return"There is no upload content.";case 418:return"Log in failure.";case 419:return"Bmob.GeoPoint location error.";default:return"unknown error"}}}},function(e,t,n){let o;const r=n(5).getAppType();"h5"===r?o=n(10):"wx"===r?o=n(48):"hap"===r?o=n(49):"nodejs"===r&&(o=n(10)),e.exports=o},function(e,t,n){(function(t,o){let r;try{r=n(25)}catch(e){r=n(27)}const s=()=>r;e.exports={getConfig:s,getAppType:()=>{const e=s();let n;return n="undefined"!=typeof wx?"wx":"undefined"!=typeof window?"h5":t===o.process?"nodejs":3===e.type?"hap":"h5"}}}).call(this,n(8),n(6))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(t){var o=n(1),r=n(33),s={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:("undefined"!=typeof XMLHttpRequest?a=n(12):void 0!==t&&(a=n(12)),a),transformRequest:[function(e,t){return r(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(e){c.headers[e]={}}),o.forEach(["post","put","patch"],function(e){c.headers[e]=o.merge(s)}),e.exports=c}).call(this,n(8))},function(e,t){var n,o,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}}();var c,u=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&d())}function d(){if(!l){var e=a(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){let o=n(0);const r=n(4),{isObject:s,isString:i,isNumber:a,isUndefined:c,isArray:u}=n(2),l=n(3),p=n(16);function f(e,t,n){let o={},r={};r[t]=n,o[e]=r;let s=o;return Object.keys(this.queryData).length?c(this.queryData.$and)?this.queryData={$and:[this.queryData,s]}:this.queryData.$and.push(s):this.queryData=s,s}e.exports=class{constructor(e){this.tableName=`${o._config.parameters.QUERY}/${e}`,this.className=e,this.init(),this.addArray={},this.setData={}}init(){this.queryData={},this.location={},this.andData={},this.orData={},this.stat={},this.limitNum=100,this.skipNum=0,this.includes="",this.queryReilation={},this.orders=null,this.keys=null}get(e){if(!i(e))throw new l(415);let t={};const n={},o={},s={},f=(e,t)=>{if(!i(e)||!u(t))throw new l(415);s[e]={__op:"Add",objects:t}},d=(e,t)=>{if(!i(e)||!u(t))throw new l(415);s[e]={__op:"AddUnique",objects:t}},h=(e,t)=>{if(!i(e)||!u(t))throw new l(415);s[e]={__op:"Remove",objects:t}},m=(e,t=1)=>{if(!i(e)||!a(t))throw new l(415);n[e]={__op:"Increment",amount:t}},w=t=>{if(!i(e))throw new l(415);o[t]={__op:"Delete"}},g=(e,n)=>{if(!i(e)||c(n))throw new l(415);const{filename:o,cdn:r,url:s}=n;c(o)||c(r)||c(s)?t[e]=n:t[e]={__type:"File",group:r,filename:o,url:s}},y=()=>{const i=Object.assign(o,t,n,s);return"_User"===this.className?new Promise((t,n)=>{r(`${this.tableName}/${e}`,"put",i).then(e=>{const n=this.current();let o=Object.assign(n,i);p.save("bmob",o),t(e)}).catch(e=>{n(e)})}):r(`${this.tableName}/${e}`,"put",i)},b={};return""!==this.includes&&(b.include=this.includes),new Promise((t,n)=>{r(`${this.tableName}/${e}`,"get",b).then(n=>{Object.defineProperty(n,"set",{value:g}),Object.defineProperty(n,"unset",{value:w}),Object.defineProperty(n,"save",{value:y}),Object.defineProperty(n,"increment",{value:m}),Object.defineProperty(n,"add",{value:f}),Object.defineProperty(n,"remove",{value:h}),Object.defineProperty(n,"addUnique",{value:d}),Object.defineProperty(n,"destroy",{value:()=>this.destroy(e)}),t(n)}).catch(e=>{n(e)})})}destroy(e){if(!i(e))throw new l(415);return r(`${this.tableName}/${e}`,"delete")}set(e,t){if(!i(e)||c(t))throw new l(415,`${e}字段参数,类型不正确`);const{filename:n,cdn:o,url:r}=t;c(n)||c(o)||c(r)?this.setData[e]=t:this.setData[e]={__type:"File",group:o,filename:n,url:r}}add(e,t){if(!i(e)||!u(t))throw new l(415);this.addArray[e]={__op:"Add",objects:t}}addUnique(e,t){if(!i(e)||!u(t))throw new l(415);this.addArray[e]={__op:"AddUnique",objects:t}}current(){if("hap"!==o.type){const e=p.fetch("bmob");return"object"==typeof e?e:JSON.parse(e)}return new Promise((e,t)=>p.fetch("bmob").then(t=>{e(t)}).catch(e=>{t(e)}))}updateStorage(e){if(!i(e))throw new l(415);return new Promise((t,n)=>{const o=this.current();if(!o)throw new l(415);this.get(e).then(e=>{let n=Object.assign(o,e);p.save("bmob",n),t(e)}).catch(e=>{console.log(e),n(e)})})}save(e={}){if(!s(e))throw new l(415);let t=this.setData.id?"PUT":"POST",n=this.setData.id?this.setData.id:"";delete this.setData.id;let o=Object.assign(e,this.setData,this.addArray);return new Promise((e,s)=>{r(`${this.tableName}/${n}`,t,o).then(t=>{if(this.addArray={},this.setData={},"_User"===this.className){const e=this.current();let t=Object.assign(e,o);p.save("bmob",t)}e(t)}).catch(e=>{s(e)})})}saveAll(e){if(!u(e))throw new l(415);if(e.length<1)throw new l(416);let t,n,s="put",i=[];e.map(e=>("/undefined"===(t=`/${e.objectId}`)&&(t="",s="post"),n={method:s,path:`${this.tableName}${t}`,body:e.setData},i.push(n),e));let a={requests:i},c=o._config.parameters.BATCH;return r(c,"POST",a)}withinKilometers(e,{latitude:t,longitude:n},o=100){let r={};return r[e]={$nearSphere:{__type:"GeoPoint",latitude:t,longitude:n},$maxDistanceInKilometers:o},this.location=r,r}withinGeoBox(e,{latitude:t,longitude:n},o){let r={};return r[e]={$within:{$box:[{__type:"GeoPoint",latitude:t,longitude:n},{__type:"GeoPoint",latitude:o.latitude,longitude:o.longitude}]}},this.location=r,r}statTo(e,t){if(!i(e))throw new l(415);return this.stat[e]=t,this.stat}equalTo(e,t,n){if(!i(e))throw new l(415);const o=((e,t,n)=>{let o={},r=null;switch(r="createdAt"===e||"updateAt"===e?{__type:"Date",iso:n}:n,t){case"==":case"===":o[e]=r;break;case"!=":o[e]={$ne:r};break;case"<":o[e]={$lt:r};break;case"<=":o[e]={$lte:r};break;case">":o[e]={$gt:r};break;case">=":o[e]={$gte:r};break;default:throw new l(415)}return o})(e,t,n);return Object.keys(this.queryData).length?c(this.queryData.$and)?this.queryData={$and:[this.queryData,o]}:this.queryData.$and.push(o):this.queryData=o,o}containedIn(e,t){if(!i(e)||!u(t))throw new l(415);return f.call(this,e,"$in",t)}notContainedIn(e,t){if(!i(e)||!u(t))throw new l(415);return f.call(this,e,"$nin",t)}exists(e){if(!i(e))throw new l(415);return f.call(this,e,"$exists",!0)}doesNotExist(e){if(!i(e))throw new l(415);return f.call(this,e,"$exists",!1)}or(...e){e.map((e,t)=>{if(!s(e))throw new l(415)});const t=this.queryData.$and;if(!c(t)){for(let n=0;n<t.length;n++)for(let o=0;o<e.length;o++)JSON.stringify(t[n])===JSON.stringify(e[o])&&this.queryData.$and.splice(n,1);t.length||delete this.queryData.$and}this.orData={$or:e}}and(...e){e.map((e,t)=>{if(!s(e))throw new l(415)}),this.andData={$and:e}}limit(e){if(!a(e))throw new l(415);e>1e3&&(e=1e3),this.limitNum=e}skip(e){if(!a(e))throw new l(415);this.skipNum=e}order(...e){e.map(e=>{if(!i(e))throw new l(415)}),this.orders=e.join(",")}include(...e){e.map(e=>{if(!i(e))throw new l(415)}),this.includes=e.join(",")}select(...e){e.map(e=>{if(!i(e))throw new l(415)}),this.keys=e.join(",")}field(e,t){if(!i(e)||!i(t))throw new l(415);this.queryReilation.where={$relatedTo:{object:{__type:"Pointer",className:this.className,objectId:t},key:e}}}relation(e){if(!i(e))throw new l(415);e="_User"===e?"users":`classes/${e}`,this.queryReilation.count=1;let t=Object.assign(this.getParams(),this.queryReilation);return new Promise((n,o)=>{r(`/1/${e}`,"get",t).then(e=>{n(e)}).catch(e=>{o(e)})})}getParams(){let e={};Object.keys(this.queryData).length&&(e.where=this.queryData),Object.keys(this.location).length&&(e.where=Object.assign(this.location,this.queryData)),Object.keys(this.andData).length&&(e.where=Object.assign(this.andData,this.queryData)),Object.keys(this.orData).length&&(e.where=Object.assign(this.orData,this.queryData)),e.limit=this.limitNum,e.skip=this.skipNum,e.include=this.includes,e.order=this.orders,e.keys=this.keys,Object.keys(this.stat).length&&(e=Object.assign(e,this.stat));for(const t in e)(e.hasOwnProperty(t)&&null===e[t]||0===e[t]||""===e[t])&&delete e[t];return e}find(){let e={},t={};const n=this.getParams(),s=(t,n)=>{if(!t||c(n))throw new l(415);e[t]=n},i=(n="updata")=>{if(console.log(n),t.length<1)throw new l(416);let s,i,a="put",c=[];t.map(t=>("/undefined"===(s=`/${t.objectId}`)&&(s="",a="post"),i={method:a,path:`${this.tableName}${s}`,body:e},"delete"===n&&(i={method:"DELETE",path:`${this.tableName}${s}`}),c.push(i),t));let u={requests:c},p=o._config.parameters.BATCH;return r(p,"POST",u)};return new Promise((e,o)=>{r(`${this.tableName}`,"get",n).then(o=>{let r=o.results;n.hasOwnProperty("count")&&(r=o),this.init(),Object.defineProperty(r,"set",{value:s}),Object.defineProperty(r,"saveAll",{value:()=>i()}),Object.defineProperty(r,"destroyAll",{value:()=>i("delete")}),t=r,e(r)}).catch(e=>{o(e)})})}count(e=0){const t={};return Object.keys(this.queryData).length&&(t.where=this.queryData),Object.keys(this.andData).length&&(t.where=Object.assign(this.andData,this.queryData)),Object.keys(this.orData).length&&(t.where=Object.assign(this.orData,this.queryData)),t.count=1,t.limit=e,new Promise((e,n)=>{r(`${this.tableName}`,"get",t).then(({count:t})=>{e(t)}).catch(e=>{n(e)})})}}},function(e,t,n){const o=n(30);let r=n(0);e.exports=((e,t="get",s={})=>new Promise((i,a)=>{void 0===r.User&&(r=n(0));const c=(e=>{let t="wechatApp";"nodejs"===r.type&&(t="cloudcode");let n={"content-type":"application/json","X-Bmob-SDK-Type":t,"X-Bmob-Application-Id":e.applicationId,"X-Bmob-REST-API-Key":e.applicationKey};return e.applicationMasterKey&&(n["X-Bmob-Master-Key"]=e.applicationMasterKey),n})(r._config);var u=r.User.current();u&&(c["X-Bmob-Session-Token"]=u.sessionToken);const l=o.create({baseURL:r._config.host,headers:c,validateStatus:e=>e<500}),p={url:e,method:t};"get"===p.method?p.params=s:p.data=s,l(p).then(({data:e})=>{(e.code&&e.error||e.error)&&a(e),i(e)}).catch(e=>{a(e)})}))},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},function(e,t,n){"use strict";var o=n(1),r=n(34),s=n(36),i=n(37),a=n(38),c=n(13),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(39);e.exports=function(e){return new Promise(function(t,l){var p=e.data,f=e.headers;o.isFormData(p)&&delete f["Content-Type"];var d=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(e.url)||(d=new window.XDomainRequest,h="onload",m=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var w=e.auth.username||"",g=e.auth.password||"";f.Authorization="Basic "+u(w+":"+g)}if(d.open(e.method.toUpperCase(),s(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[h]=function(){if(d&&(4===d.readyState||m)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?i(d.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:e,request:d};r(t,l,o),d=null}},d.onerror=function(){l(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){l(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},o.isStandardBrowserEnv()){var y=n(40),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in d&&o.forEach(f,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),l(e),d=null)}),void 0===p&&(p=null),d.send(p)})}},function(e,t,n){"use strict";var o=n(35);e.exports=function(e,t,n,r,s){var i=new Error(e);return o(i,t,n,r,s)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},function(e,t,n){let o;const r=n(5).getAppType();"h5"===r?o=n(50):"wx"===r?o=n(51):"hap"===r?o=n(52):"nodejs"===r&&(o=n(53)),e.exports=o},function(e,t,n){const o=n(18);window.FrontTool=o.default,e.exports=o},function(e,t,n){"use strict";n.r(t),n(19);const o=n(24);let r=[],s=null,i=!1;t.default=class{constructor(e,t,n=!1){n&&(i=!0),window.XMLHttpRequest.hadInit||(o.initialize(e,t),this.xhrIntercept(),!n&&this.appendDom()),window.XMLHttpRequest.hadInit=!0}xhrIntercept(){const e=this,t=window.XMLHttpRequest,n=t.prototype.open,o=t.prototype.setRequestHeader,s=t.prototype.send;window.XMLHttpRequest=function(){let a={},c=new t;return c.open=function(e,t){a.method=e,a.url=t,n.apply(c,arguments)},c.setRequestHeader=function(e,t){a.header||(a.header={}),a.header[e]=t,o.apply(c,arguments)},c.send=function(e){a.body=e,s.apply(c,arguments)},c.addEventListener("loadend",function(){a.status=c.status,a.response=c.response,-1===a.url.search("api.bmobcloud.com")&&(r.push(a),200!=+a.status&&i&&e.sendDataToBmob())}),c}}sendDataToBmob(){const e=o.Query("ajaxListTable");e.set("ajaxList",r),e.save().then(e=>{this.showTip(e.objectId)})}appendDom(){let e=document.createElement("div");e.className="front-tool-container";let t=document.createElement("button");t.className="front-tool-btn",t.innerText="front tool",t.addEventListener("click",function(){o.className.search("up")>-1?(n.className="mask",o.className="modal down"):(n.className="mask show",o.className="modal up")}),e.appendChild(t);let n=document.createElement("div");e.appendChild(n);let o=document.createElement("div");o.className="modal",e.appendChild(o);let s=document.createElement("button");s.innerText="上报",s.addEventListener("click",this.sendDataToBmob.bind(this)),o.appendChild(s);let i=document.createElement("button");i.innerText="重置",i.addEventListener("click",function(){r=[]}),o.appendChild(i);let a=document.createElement("div");a.id="frontToolTipId",a.className="tip",e.appendChild(a),document.body.appendChild(e)}showTip(e){clearTimeout(s);let t=document.getElementById("frontToolTipId");t.className=t.className.replace(/ hide/g,""),t.className+=" show",t.innerText=e,s=setTimeout(()=>{t.className=t.className.replace(/show/g,"hide")},5e3)}}},function(e,t,n){var o=n(20);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(22)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(21)(!1)).push([e.i,'@charset "UTF-8";\n.front-tool-container * {\n  font-size: 18px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  outline: none;\n  -webkit-appearance: none; }\n\n.front-tool-container .front-tool-btn {\n  font-size: 20px;\n  background: #4ACC60;\n  color: #ffffff;\n  padding: 5px 20px;\n  box-shadow: rgba(0, 0, 0, 0.3) 3px 3px 3px;\n  border-radius: 3px;\n  position: fixed;\n  right: 20px;\n  bottom: 20px;\n  z-index: 999999; }\n  .front-tool-container .front-tool-btn:active {\n    background: #348C6B; }\n\n.front-tool-container .mask {\n  background: rgba(0, 0, 0, 0.3);\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: none; }\n  .front-tool-container .mask.show {\n    display: block; }\n\n.front-tool-container .modal {\n  width: 100%;\n  max-width: 700px;\n  height: 80%;\n  padding: 20px;\n  background: #ffffff;\n  transform: translate(-50%, 0);\n  position: fixed;\n  left: 50%;\n  bottom: -80%; }\n  .front-tool-container .modal.up {\n    bottom: 0;\n    animation: up 0.5s; }\n\n@keyframes up {\n  0% {\n    bottom: -80%; }\n  100% {\n    bottom: 0; } }\n  .front-tool-container .modal.down {\n    bottom: -80%;\n    animation: down 0.5s; }\n\n@keyframes down {\n  0% {\n    bottom: 0; }\n  100% {\n    bottom: -80%; } }\n  .front-tool-container .modal button {\n    width: 100%;\n    display: block;\n    padding: 5px;\n    margin-top: 10px;\n    background: #ffffff;\n    border: 1px solid black; }\n    .front-tool-container .modal button:active {\n      border-color: rgba(0, 0, 0, 0.2); }\n\n.front-tool-container .tip {\n  width: 100%;\n  height: 50px;\n  line-height: 40px;\n  text-align: center;\n  color: #ffffff;\n  background: -webkit-linear-gradient(#000000, transparent);\n  /* Safari 5.1 - 6.0 */\n  background: -o-linear-gradient(#000000, transparent);\n  /* Opera 11.1 - 12.0 */\n  background: -moz-linear-gradient(#000000, transparent);\n  /* Firefox 3.6 - 15 */\n  background: linear-gradient(#000000, transparent);\n  /* 标准的语法（必须放在最后） */\n  position: fixed;\n  left: 0;\n  top: -50px; }\n  .front-tool-container .tip.hide {\n    top: -50px;\n    animation: hide 5s; }\n\n@keyframes hide {\n  0% {\n    top: 0; }\n  15%,\n  100% {\n    top: -50px; } }\n  .front-tool-container .tip.show {\n    top: 0;\n    animation: show 5s; }\n\n@keyframes show {\n  0% {\n    top: -50px; }\n  15%,\n  100% {\n    top: 0; } }\n',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(i=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),s=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(s).concat([r]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(o[s]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&o[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){var o,r,s={},i=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),a=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),c=null,u=0,l=[],p=n(23);function f(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=s[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(y(o.parts[i],t))}else{var a=[];for(i=0;i<o.parts.length;i++)a.push(y(o.parts[i],t));s[o.id]={id:o.id,refs:1,parts:a}}}}function d(e,t){for(var n=[],o={},r=0;r<e.length;r++){var s=e[r],i=t.base?s[0]+t.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};o[i]?o[i].parts.push(a):n.push(o[i]={id:i,parts:[a]})}return n}function h(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=l[l.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertAt.before,n);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function w(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=function(){0;return n.nc}();o&&(e.attrs.nonce=o)}return g(t,e.attrs),h(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,o,r,s;if(t.transform&&e.css){if(!(s="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=s}if(t.singleton){var i=u++;n=c||(c=w(t)),o=S.bind(null,n,i,!1),r=S.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),h(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,s=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||s)&&(o=p(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([o],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=w(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return f(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var i=n[r];(a=s[i.id]).refs--,o.push(a)}e&&f(d(e,t),t);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete s[a.id]}}}};var b,v=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function S(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=v(t,r);else{var s=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(s,i[t]):e.appendChild(s)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,s=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?e:(r=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:o+s.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){(function(t){const o=n(0),r=n(28),s=n(29),i=n(9),a=n(54),c=n(55),u=n(56),l=n(57),{generateCode:p,sendMessage:f,getAccessToken:d,sendWeAppMessage:h,refund:m,notifyMsg:w,functions:g,timestamp:y,requestPasswordReset:b,resetPasswordBySmsCode:v,updateUserPassword:S,geoPoint:E,checkMsg:x,push:T}=n(58),{requestSmsCode:j,verifySmsCode:O}=n(59);o.GeoPoint=E,o.generateCode=p,o.sendMessage=f,o.getAccessToken=d,o.sendWeAppMessage=h,o.refund=m,o.checkMsg=x,o.notifyMsg=w,o.requestSmsCode=j,o.verifySmsCode=O,o.run=o.functions=g,o.timestamp=y,o.requestPasswordReset=b,o.resetPasswordBySmsCode=v,o.updateUserPassword=S,o.push=T,o.Pay=new u,o.User=new a,o.Socket=(()=>new l),o.Query=(e=>new i(e)),o.File=((e,t)=>new c(e,t)),o.request=n(4),o.type=o.utils.getAppType(),o.Pointer=(e=>new r(e)),o.Relation=(e=>new s(e)),"wx"===o.type?wx.Bmob=o:"h5"===o.type?window.Bmob=o:"hap"===o.type?t.Bmob=o:"nodejs"===o.type&&(t.Bmob=o),e.exports=o}).call(this,n(6))},function(e,t,n){const o=`v${n(26).version}`;e.exports={host:"https://api.bmobcloud.com",applicationId:"",applicationKey:"",applicationMasterKey:"",parameters:{GENERATECODE:"/1/wechatApp/qr/generatecode",GETACCESSTOKEN:"/1/wechatApp/getAccessToken",SENDWEAPPMESSAGE:"/1/wechatApp/SendWeAppMessage",NOTIFYMSG:"/1/wechatApp/notifyMsg",REFUND:"/1/pay/refund",REQUESTSMSCODE:"/1/requestSmsCode",VERIFYSMSCODE:"/1/verifySmsCode",FUNCTIONS:"/1/functions",REQUESTPASSWORDRESET:"/1/requestPasswordReset",RESETPASSWORDBYSMSCODE:"/1/resetPasswordBySmsCode",UPDATEUSERPASSWORD:"/1/updateUserPassword",PUSH:"/1/push",FILES:"/2/files",DELFILES:"/2/cdnBatchDelete",TIMESTAMP:"/1/timestamp",LOGIN:"/1/login",REGISTER:"/1/users",REQUEST_EMAIL_VERIFY:"/1/requestEmailVerify",USERS:"/1/users",PAY:"/1/pay",WECHAT_APP:"/1/wechatApp/",BATCH:"/1/batch",CHECK_MSG:"/1/wechatApp/checkMsg",DECRYPTION:"/1/wechatApp/decryption",QUERY:"/1/classes"},version:o,type:3}},function(e){e.exports={_from:"hydrogen-js-sdk@^1.6.7",_id:"hydrogen-js-sdk@1.6.7",_inBundle:!1,_integrity:"sha512-wCk7pfEZ/mNbm3kwDbdfWhHgY3AmJbZcNTl3Q7Xo6Ozkf8UJ1gYrX+O2Et6heJ9hycG2ozejsmSqJ4DGx4NOZQ==",_location:"/hydrogen-js-sdk",_phantomChildren:{acorn:"5.7.3","acorn-dynamic-import":"2.0.2",ajv:"6.6.2","ajv-keywords":"3.2.0",async:"2.6.1","enhanced-resolve":"3.4.1",escope:"3.6.0",interpret:"1.2.0","json-loader":"0.5.7",json5:"0.5.1","loader-runner":"2.3.1","loader-utils":"1.2.3","memory-fs":"0.4.1",mkdirp:"0.5.1","node-libs-browser":"2.1.0","source-map":"0.5.7","supports-color":"4.5.0",tapable:"0.2.9","uglifyjs-webpack-plugin":"0.4.6",watchpack:"1.6.0","webpack-sources":"1.3.0",yargs:"8.0.2"},_requested:{type:"range",registry:!0,raw:"hydrogen-js-sdk@^1.6.7",name:"hydrogen-js-sdk",escapedName:"hydrogen-js-sdk",rawSpec:"^1.6.7",saveSpec:null,fetchSpec:"^1.6.7"},_requiredBy:["#DEV:/","#USER"],_resolved:"https://registry.npmjs.org/hydrogen-js-sdk/-/hydrogen-js-sdk-1.6.7.tgz",_shasum:"f61920cf95ce7a4b3ec87afb11e9af22792c068d",_spec:"hydrogen-js-sdk@^1.6.7",_where:"F:\\workspace\\git\\mobile.bigo.tv.ci3\\webpackDev\\view\\pay\\frontTool",author:{name:"Bmob"},bugs:{url:"https://github.com/bmob/hydrogen-js-sdk/issues"},bundleDependencies:!1,dependencies:{"node.extend":"^2.0.0",webpack:"^3.12.0"},deprecated:!1,description:"Bmob SDK",devDependencies:{"clean-webpack-plugin":"^0.1.19",eslint:"^4.19.1","eslint-config-standard":"^11.0.0","eslint-friendly-formatter":"^4.0.1","eslint-loader":"^2.0.0","eslint-plugin-import":"^2.12.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.1.0","html-webpack-plugin":"^2.30.1","uglifyjs-webpack-plugin":"^1.2.5","webpack-dev-server":"^2.11.2"},directories:{doc:"docs"},homepage:"https://github.com/bmob/hydrogen-js-sdk#readme",keywords:["Bmob"],license:"ISC",main:"./src/lib/app.js",name:"hydrogen-js-sdk",repository:{type:"git",url:"git+https://github.com/bmob/hydrogen-js-sdk.git"},scripts:{build:"webpack --config config/prod.env.js",dev:"webpack-dev-server --config config/dev.env.js",test:'echo "Error: no test specified" && exit 1',watch:"webpack --watch --config config/prod.env.js"},version:"1.6.7"}},function(e,t){e.exports={host:"https://api.bmobcloud.com",applicationId:"",applicationKey:"",parameters:{GENERATECODE:"/1/wechatApp/qr/generatecode",GETACCESSTOKEN:"/1/wechatApp/getAccessToken",SENDWEAPPMESSAGE:"/1/wechatApp/SendWeAppMessage",NOTIFYMSG:"/1/wechatApp/notifyMsg",REFUND:"/1/pay/refund",REQUESTSMSCODE:"/1/requestSmsCode",VERIFYSMSCODE:"/1/verifySmsCode",FUNCTIONS:"/1/functions",REQUESTPASSWORDRESET:"/1/requestPasswordReset",RESETPASSWORDBYSMSCODE:"/1/resetPasswordBySmsCode",UPDATEUSERPASSWORD:"/1/updateUserPassword",PUSH:"/1/push",FILES:"/2/files",DELFILES:"/2/cdnBatchDelete",TIMESTAMP:"/1/timestamp",LOGIN:"/1/login",REGISTER:"/1/users",REQUEST_EMAIL_VERIFY:"/1/requestEmailVerify",USERS:"/1/users",PAY:"/1/pay",WECHAT_APP:"/1/wechatApp/",BATCH:"/1/batch",CHECK_MSG:"/1/wechatApp/checkMsg",DECRYPTION:"/1/wechatApp/decryption",QUERY:"/1/classes"},version:1,type:1}},function(e,t,n){const{isString:o}=n(2),r=n(3);e.exports=class{constructor(e){if(!o(e))throw new r(415);this.tableName=e}set(e){if(!o(e))throw new r(415);return{__type:"Pointer",className:this.tableName,objectId:e}}}},function(e,t,n){const{isString:o,isArray:r}=n(2),s=n(3);function i(e,t){if(o(e))return{__op:t,objects:[{__type:"Pointer",className:this.tableName,objectId:e}]};if(r(e)){const n=[];return e.map(e=>{if(!o(e))throw new s(415);n.push({__type:"Pointer",className:this.tableName,objectId:e})}),{__op:t,objects:n}}throw new s(415)}e.exports=class{constructor(e){if(!o(e))throw new s(415);this.tableName=e}add(e){return i.call(this,e,"AddRelation")}remove(e){return i.call(this,e,"RemoveRelation")}}},function(e,t,n){"use strict";var o=n(1),r=n(11),s=n(32),i=n(7);function a(e){var t=new s(e),n=r(s.prototype.request,t);return o.extend(n,s.prototype,t),o.extend(n,t),n}var c=a(i);c.Axios=s,c.create=function(e){return a(o.merge(i,e))},c.Cancel=n(15),c.CancelToken=n(46),c.isCancel=n(14),c.all=function(e){return Promise.all(e)},c.spread=n(47),e.exports=c,e.exports.default=c},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var o=n(7),r=n(1),s=n(41),i=n(42);function a(e){this.defaults=e,this.interceptors={request:new s,response:new s}}a.prototype.request=function(e){"string"==typeof e&&(e=r.merge({url:arguments[0]},arguments[1])),(e=r.merge(o,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[i,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}}),r.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}}),e.exports=a},function(e,t,n){"use strict";var o=n(1);e.exports=function(e,t){o.forEach(e,function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])})}},function(e,t,n){"use strict";var o=n(13);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e}},function(e,t,n){"use strict";var o=n(1);function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(o.isURLSearchParams(t))s=t.toString();else{var i=[];o.forEach(t,function(e,t){null!=e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),i.push(r(t)+"="+r(e))}))}),s=i.join("&")}return s&&(e+=(-1===e.indexOf("?")?"?":"&")+s),e}},function(e,t,n){"use strict";var o=n(1),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,i={};return e?(o.forEach(e.split("\n"),function(e){if(s=e.indexOf(":"),t=o.trim(e.substr(0,s)).toLowerCase(),n=o.trim(e.substr(s+1)),t){if(i[t]&&r.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}}),i):i}},function(e,t,n){"use strict";var o=n(1);e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=o.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,s=String(e),i="",a=0,c=o;s.charAt(0|a)||(c="=",a%1);i+=c.charAt(63&t>>8-a%1*8)){if((n=s.charCodeAt(a+=.75))>255)throw new r;t=t<<8|n}return i}},function(e,t,n){"use strict";var o=n(1);e.exports=o.isStandardBrowserEnv()?{write:function(e,t,n,r,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),o.isString(r)&&a.push("path="+r),o.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var o=n(1);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";var o=n(1),r=n(43),s=n(14),i=n(7),a=n(44),c=n(45);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!a(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return u(e),t.data=r(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(u(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var o=n(1);e.exports=function(e,t,n){return o.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var o=n(15);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new o(e),t(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){let o=n(0);e.exports=((e,t="get",r={})=>new Promise((s,i)=>{const a=(e=>{let t={"content-type":"application/json","X-Bmob-SDK-Type":"wechatApp","X-Bmob-Application-Id":e.applicationId,"X-Bmob-REST-API-Key":e.applicationKey};return e.applicationMasterKey&&(t["X-Bmob-Master-Key"]=e.applicationMasterKey),t})(o._config);void 0===o.User&&(o=n(0));var c=o.User.current();c&&(a["X-Bmob-Session-Token"]=c.sessionToken),wx.request({url:o._config.host+e,method:t,data:r,header:a,success:e=>{(e.data.code&&e.data.error||e.data.error)&&i(e.data),s(e.data)},fail:e=>{console.log(e),i(e)}})}))},function(e,t,n){let o=n(0);e.exports=((e,t="get",r={})=>new Promise((s,i)=>{const a=(e=>{let t={"content-type":"application/json","X-Bmob-SDK-Type":"wechatApp","X-Bmob-Application-Id":e.applicationId,"X-Bmob-REST-API-Key":e.applicationKey};return e.applicationMasterKey&&(t["X-Bmob-Master-Key"]=e.applicationMasterKey),t})(o._config);void 0===o.User&&(o=n(0));var c=o.User.current();c&&(a["X-Bmob-Session-Token"]=c.sessionToken),"object"==typeof r&&(r=JSON.stringify(r)),"xxrequire('@system.fetch')xx".fetch({url:o._config.host+e,header:a,method:t,data:r,success:function(e){const t=JSON.parse(e.data);t.code&&i(t),s(t)},fail:function(e,t){console.log(`handling fail, code = ${t}`),i(e)}})}))},function(e,t,n){const{isString:o}=n(2);let r;r="undefined"!=typeof cc?cc.sys.localStorage:localStorage;const s={save(e,t){if(!o(e)||!t)throw new Error(415);r.setItem(e,JSON.stringify(t))},fetch(e){if(!o(e))throw new Error(415);return JSON.parse(r.getItem(e))||null},remove(e){if(!o(e))throw new Error(415);r.removeItem(e)},clear(){r.clear()}};e.exports=s},function(e,t,n){const{isString:o,isObject:r}=n(2),s={save(e,t){if(!o(e)||!t)throw new Error(415);return t=r(t)?JSON.stringify(t):t,wx.setStorageSync(e,t)},fetch(e){if(!o(e))throw new Error(415);return wx.getStorageSync(e)||null},remove(e){if(!o(e))throw new Error(415);return wx.removeStorageSync(e)},clear:()=>wx.clearStorageSync()};e.exports=s},function(e,t,n){const{isString:o}=n(2),r="xxrequire('@system.storage')xx",s={save(e,t){if(!o(e)||!t)throw new Error(415);r.set({key:e,value:JSON.stringify(t),success:function(e){return console.log("handling success"),e},fail:function(e,t){console.log(`handling fail, code = ${t}`)}})},fetch(e){if(!o(e))throw new Error(415);return new Promise((t,n)=>r.get({key:e,success:function(e){t(e||null)},fail:function(e,t){console.log(`handling fail, code = ${t}`),n(e)}}))},remove(e){if(!o(e))throw new Error(415);r.delete({key:e,success:function(e){console.log("handling success")},fail:function(e,t){console.log(`handling fail, code = ${t}`)}})},clear(){r.clear({success:function(e){console.log("handling success")},fail:function(e,t){console.log(`handling fail, code = ${t}`)}})}};e.exports=s},function(e,t){const n={save(e,t){},fetch:e=>null,remove(e){},clear(){}};e.exports=n},function(e,t,n){const o=n(4),r=n(16),s=n(9),i=n(0),a=n(3),{isObject:c,isString:u,isNumber:l}=n(2);e.exports=class extends s{constructor(){super("_User")}set(e,t=""){u(e)&&(this.setData[e]=t)}requestEmailVerify(e){if(!u(e))throw new a(415);this.setData=Object.assign({},{email:e}),console.log(this.setData);const t=i._config.parameters.REQUEST_EMAIL_VERIFY;return o(t,"post",this.setData)}register(e){if(!c(e))throw new a(415);this.setData=Object.assign({},e);const t=i._config.parameters.REGISTER;return o(t,"post",this.setData)}login(e,t){if(!u(e)||!u(t))throw new a(415);this.setData=Object.assign({},{username:e,password:t});const n=i._config.parameters.LOGIN;return new Promise((e,t)=>{o(n,"get",this.setData).then(t=>{r.save("bmob",t),e(t)}).catch(e=>{t(e)})})}logout(){r.clear()}users(){const e=i._config.parameters.USERS;return o(e,"get")}decryption(e){let t=this;return new Promise((n,r)=>{const s=e.iv?e.iv:e.detail.iv,a=e.encryptedData?e.encryptedData:e.detail.encryptedData,c={sessionKey:t.current().authData.weapp.session_key,encryptedData:a,iv:s},u=i._config.parameters.DECRYPTION;o(u,"POST",c).then(e=>{n(e)}).catch(e=>{r(e)})})}signOrLoginByMobilePhone(e,t){if(!l(e)||!l(t))throw new a(415);this.setData=Object.assign({},{mobilePhoneNumber:e,smsCode:t});const n=i._config.parameters.LOGIN;return o(n,"get",this.setData)}requestOpenId(e){const t=i._config.parameters.WECHAT_APP;return o(t+e,"POST",{})}linkWith(e){let t={authData:e};const n=i._config.parameters.USERS;return o(n,"POST",t)}loginWithWeapp(e){return new Promise((t,n)=>{this.requestOpenId(e).then(e=>{const n={weapp:e},o=this.linkWith(n);t(o)}).catch(e=>{n(e)})})}upInfo(e){return new Promise((t,n)=>{var o=e.nickName,s=e.avatarUrl,i=this.current();if(!i)throw new a(415);var c=r.fetch("openid");this.get(i.objectId).then(e=>{e.set("nickName",o),e.set("userPic",s),e.set("openid",c),e.save().then(e=>{t(e)}).catch(e=>{console.log(e),n(e)})}).catch(e=>{console.log(e),n(e)})})}auth(){var e=this;return new Promise((t,n)=>{const o=()=>{wx.login({success:o=>{e.loginWithWeapp(o.code).then(e=>{if(e.error)throw new a(415);var n=e.authData.weapp.openid;r.save("openid",n),r.save("bmob",e),t(e)},function(e){n(e)})}})};wx.checkSession({success:function(){let r=e.current();null===r&&n("登陆错误，请在Bmob后台填写小程序AppSecret。"),t(r),o()},fail:()=>{o()}})})}}},function(e,t,n){const o=n(4);let r=n(0);const s=n(3),i=n(5),a="xxrequire('@system.request')xx",{isString:c,isArray:u}=n(2);let l=[];e.exports=class{constructor(e,t){if(e&&t){if(!c(e))throw new s(415);l.push({name:e,route:`${r._config.parameters.FILES}/${e}`,data:t})}}save(){if(!l.length)throw new s(417);let e;const t=i.getAppType();return"h5"===t||"nodejs"===t?e=new Promise((e,t)=>{const n=[];for(let r of l)o(r.route,"post",r.data).then(o=>{n.push(o),n.length===l.length&&(l=[],e(n),t(n))}).catch(e=>{n.push(e)})}):"wx"===t?e=new Promise((e,t)=>{void 0===r.User&&(r=n(0));let o="bmob";var s=r.User.current();s&&(o=s.sessionToken);const i=[],a={_ApplicationId:r._config.applicationId,_RestKey:r._config.applicationKey,_SessionToken:o},c=Object.assign({_ContentType:"text/plain",mime_type:"text/plain",category:"wechatApp",_ClientVersion:"js3.6.1",_InstallationId:"bmob"},a);for(let n of l)wx.uploadFile({url:r._config.host+n.route,filePath:n.data,name:"file",header:{"X-Bmob-SDK-Type":"wechatApp"},formData:c,success:function(n){var o=JSON.parse(n.data);i.push(o),i.length===l.length&&(l=[],e(i),t(i))},fail:function(e){i.push(e)}})}):"hap"===t&&(e=new Promise((e,t)=>{void 0===r.User&&(r=n(0));var o=r.User.current();const s=[],i={_ApplicationId:r._config.applicationId,_RestKey:r._config.applicationKey,_SessionToken:o.sessionToken},c=Object.assign({_ContentType:"text/plain",mime_type:"text/plain",category:"wechatApp",_ClientVersion:"js3.6.1",_InstallationId:"bmob"},i);for(let n of l)a.upload({url:r._config.host+n.route,files:[{uri:n.data,name:"file",filename:n.name}],header:{"X-Bmob-SDK-Type":"wechatApp"},data:c,success:function(n){console.log("handling success"+s);var o=n.data;s.push(o),s.length===l.length&&(l=[],e(s),t(s))},fail:function(e,t){console.log(`handling fail, code = ${t}`)}})})),e}destroy(e){if(c(e))return o(`${r._config.parameters.FILES}/upyun/${e.split(".com/")[1]}`,"delete");if(u(e)){const t=[];return e.map(e=>{t.push(e.split(".com/")[1])}),o(r._config.parameters.DELFILES,"post",{upyun:t})}throw new s(415)}}},function(e,t,n){const o=n(4),r=n(0),s=n(3);e.exports=class{weApp(e,t,n){var i=wx.getStorageSync("openid");if(!(e&&t&&n&&i))throw new s(416);var a={order_price:e,product_name:t,body:n,open_id:i,pay_type:4};let c=r._config.parameters.PAY;return o(c,"post",a)}}},function(t,n,o){const r=o(0),s=o(3),i={setup(e){let t=[];Object.assign(e,{on(e,n){"function"==typeof n&&t.push([e,n])},emit(e,...n){t.forEach(([t,o])=>e===t&&o(...n))},removeAllListeners(){t=[]}})}};t.exports=class{constructor(){if(!r._config.applicationId)throw new s(415);this.config={host:"wss.bmobcloud.com"},i.setup(this.emitter={}),this.applicationId=r._config.applicationId,this.initialize()}handshake(){var t="https://"+this.config.host+"/socket.io/1/?t="+(new Date).getTime(),n=JSON.stringify({});return new Promise((o,r)=>{wx.request({method:"GET",url:t,data:n,header:{"content-type":"text/plain"},success:function(t){return t.data&&t.data.statusCode?o("request error",e):200!==t.statusCode?o("request error",e):o(function(e){if(!(e instanceof s))return e.split(":")[0];self.connecting=!1,self.onError(e.message)}(t.data))},fail:function(e){return o("request error",e)}})})}initialize(){return this.handshake().then(e=>{try{this.connect(`wss://${this.config.host}/socket.io/1/websocket/`+e,{})}catch(e){throw console.error({connectError:e}),e}}),this.on("close",()=>{console.log("连接已中断")}),new Promise((e,t)=>{this.on("server_pub",e=>{switch(e.action){case"updateTable":this.onUpdateTable(e.tableName,e.data);break;case"updateRow":this.onUpdateRow(e.tableName,e.objectId,e.data);break;case"deleteTable":this.onDeleteTable(e.tableName,e.data);break;case"deleteRow":this.onDeleteRow(e.tableName,e.objectId,e.data)}}),this.on("client_send_data",e=>{this.onInitListen()})})}onInitListen(){}connect(e,t){const n=Object.keys(t).map(e=>`${e}=${encodeURIComponent(t[e])}`).join("&"),o=e.indexOf("?")>-1?"&":"?";return e=[e,n].join(o),new Promise((n,o)=>{wx.onSocketOpen(n),wx.onSocketError(o),wx.onSocketMessage(e=>{try{let t=function(e){const{name:t,args:n}=JSON.parse(e);return{name:t,args:n}},n=e.data;if("2:::"===n.slice(0,4)&&this.emit(!1,!0),null===(n=n.slice(4))||""===n)return;const{name:o,args:r}=t(n);let s=null==r?"":JSON.parse(r[0]);this.emitter.emit(o,s)}catch(t){console.log("Handle packet failed: "+e.data,t)}}),wx.onSocketClose(()=>this.emitter.emit("close")),wx.connectSocket({url:e,header:t})})}on(e,t){this.emitter.on(e,t)}emit(e,t){t=void 0===t?"5:::":"2:::",e=e?JSON.stringify(e):"",wx.sendSocketMessage({data:t+e})}emitData(e,t){return{name:e,args:[t=JSON.stringify(t)]}}updateTable(e){var t={appKey:this.applicationId,tableName:e,objectId:"",action:"updateTable"};t=this.emitData("client_sub",t),this.emit(t)}unsubUpdateTable(e){var t={appKey:this.applicationId,tableName:e,objectId:"",action:"unsub_updateTable"};t=this.emitData("client_sub",t),this.emit(t)}updateRow(e,t){var n={appKey:this.applicationId,tableName:e,objectId:t,action:"updateRow"};n=this.emitData("client_sub",n),this.emit(n)}unsubUpdateRow(e,t){var n={appKey:this.applicationId,tableName:e,objectId:t,action:"unsub_updateRow"};n=this.emitData("client_sub",n),this.emit(n)}deleteTable(e){var t={appKey:this.applicationId,tableName:e,objectId:"",action:"deleteTable"};t=this.emitData("client_sub",t),this.emit(t)}unsubDeleteTable(e){var t={appKey:this.applicationId,tableName:e,objectId:"",action:"unsub_deleteTable"};t=this.emitData("client_sub",t),this.emit(t)}deleteRow(e,t){var n={appKey:this.applicationId,tableName:e,objectId:t,action:"deleteRow"};n=this.emitData("client_sub",n),this.emit(n)}unsubDeleteRow(e,t){var n={appKey:this.applicationId,tableName:e,objectId:t,action:"unsub_deleteRow"};n=this.emitData("client_sub",n),this.emit(n)}onUpdateTable(e,t){}onUpdateRow(e,t,n){}onDeleteTable(e,t){}onDeleteRow(e,t,n){}}},function(e,t,n){const o=n(4),r=n(0),s=n(3),{isObject:i,isString:a}=n(2);e.exports={generateCode:e=>{if(!i(e))throw new s(415);let t=r._config.parameters.GENERATECODE;return o(t,"post",e)},sendMessage:e=>1,getAccessToken:e=>{let t=r._config.parameters.GETACCESSTOKEN;return o(t,"get")},sendWeAppMessage:e=>{if(!i(e))throw new s(415);let t=r._config.parameters.SENDWEAPPMESSAGE;return o(t,"post",e)},refund:e=>{if(!i(e))throw new s(415);let t=r._config.parameters.REFUND;return o(t,"post",e)},notifyMsg:e=>{if(!i(e))throw new s(415);let t=r._config.parameters.NOTIFYMSG;return o(t,"post",e)},functions:(e,t)=>{if(t||(t={}),!a(e))throw new s(415);const n=`${r._config.parameters.FUNCTIONS}/${e}`;return new Promise((e,r)=>{o(n,"post",t).then(({result:t})=>{try{e(JSON.parse(t))}catch(n){e(t)}}).catch(e=>{r(e)})})},timestamp:()=>{let e=r._config.parameters.TIMESTAMP;return o(e,"get")},requestPasswordReset:e=>{if(!i(e))throw new s(415);let t=r._config.parameters.REQUESTPASSWORDRESET;return o(t,"post",e)},resetPasswordBySmsCode:(e,t)=>{if(!a(e))throw new s(415);let n=`${r._config.parameters.RESETPASSWORDBYSMSCODE}/${e}`;return o(n,"put",t)},updateUserPassword:(e,t)=>{if(!i(t)||!a(e))throw new s(415);let n=`${r._config.parameters.UPDATEUSERPASSWORD}/${e}`;return o(n,"put",t)},geoPoint:({latitude:e,longitude:t})=>{return((e,t)=>{if(e<-90)throw new s(419);if(e>90)throw new s(419);if(t<-180)throw new s(419);if(t>180)throw new s(419)})(e,t),{__type:"GeoPoint",latitude:e,longitude:t}},checkMsg:e=>{if(!a(e))throw new s(415);let t=`${r._config.parameters.CHECK_MSG}`;return o(t,"post",{content:e})},push:e=>{if(!i(e))throw new s(415);let t=r._config.parameters.PUSH;return o(t,"post",e)}}},function(e,t,n){const o=n(4),r=n(0),s=n(3),{isObject:i,isString:a}=n(2);e.exports={requestSmsCode:(e,t)=>{if(!i(e))throw new s(415);let n=r._config.parameters.REQUESTSMSCODE;return o(n,"post",e)},verifySmsCode:(e,t,n)=>{if(!a(e))throw new s(415);if(!i(t))throw new s(415);let c=`${r._config.parameters.VERIFYSMSCODE}/${e}`;return o(c,"post",t)}}}]);